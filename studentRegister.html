<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="StudentRegister.css">
    <title>Student Register</title>
    <style>
        /* Add your CSS styles here */
    </style>
</head>

<body>
    <header>
        <div class="logo-container">
            <img src="Image/logo.jpeg" alt="AimerS Logo">
            <h1 class="aimer">Aimer'S</h1>
        </div>
        <nav>
            <a href="#"><img src="Image/explore.png" alt="Explore" class="nav-icon"> Explore</a>
            <a href="#"><img src="Image/tutor.png" alt="Tutors" class="nav-icon"> Tutors</a>
            <a href="login.html"><img src="Image/login.png" alt="Login" class="nav-icon"> Login</a>
            <a href="#"><img src="Image/post.png" alt="Post" class="nav-icon"> Post A Tuition</a>
        </nav>
    </header>

    <div class="form-container">
        <h1>Register</h1>
        <form id="multiStepForm" action="process_registration.php" method="post" class="multi-step-form">

            <div class="form-step" data-step="1">
                <div class="role-container">
                    <label class="role">
                        <input type="radio" name="role" value="Student">
                        <img src="Image/student.png" alt="Student">
                        <span class="role-label">Student</span>
                    </label>
                </div>

                <!-- Step 1 Form Fields -->
                <h2>Personal Info</h2>
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" placeholder="Enter your name" required>

                <label for="email">Email:</label>
                <input type="email" id="email" name="email" placeholder="Enter your email" required>

                <label for="phone">Phone:</label>
                <input type="tel" id="phone" name="phone" placeholder="Enter your phone number" required>

                <label for="facebook">Facebook:</label>
                <input type="text" id="facebook" name="facebook" placeholder="Enter your Facebook username">
                <!-- Next button -->
                <div>
                    <button class="next-btn" data-step="2">Next</button>
                </div>
            </div>

            <div class="form-step" data-step="2">
                <div class="role-container">
                    <label class="role">
                        <input type="radio" name="role" value="Student">
                        <img src="Image/student.png" alt="Student">
                        <span class="role-label">Student</span>
                    </label>
                </div>
                <!-- Step 2 Form Fields -->
                <h2>Location Info</h2>
                <label for="address">Address:</label>
                <input type="text" id="address" name="address" placeholder="Enter your current address" required>

                <label for="division">Select your division:</label>
                <select name="division" id="division">
                    <option value="dhaka">Dhaka</option>
                    <option value="barishal">Barishal</option>
                    <option value="khulna">Khulna</option>
                    <option value="rangpur">Rangpur</option>
                    <option value="sylhet">Sylhet</option>
                </select>
                <div>
                    <button class="prev-btn" data-step="1">Previous</button>
                    <button class="next-btn" data-step="3">Next</button>
                </div>
                <!-- Previous and Next buttons -->

            </div>

            <div class="form-step" data-step="3">
                <div class="role-container">
                    <label class="role">
                        <input type="radio" name="role" value="Student">
                        <img src="Image/student.png" alt="Student">
                        <span class="role-label">Student</span>
                    </label>
                </div>

                <!-- Step 3 Form Fields -->
                <h2>Educational Info</h2>
                <label for="institution">Institution:</label>
                <input type="text" id="institution" name="institution" placeholder="Enter your institution name"
                    required>

                <label for="class">Class:</label>
                <select name="class" id="class" required>
                    <option value="" disabled selected>Select one</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                    <option value="admission">Admission</option>
                </select>
                <!-- Previous and Next buttons -->
                <div>
                    <button class="prev-btn" data-step="2">Previous</button>
                    <button class="next-btn" data-step="4">Next</button>
                </div>
            </div>

            <div class="form-step" data-step="4">
                <div class="role-container">
                    <label class="role">
                        <input type="radio" name="role" value="Student">
                    </label>
                </div>
                <!-- Step 4 Form Fields -->
                <h2>Credentials</h2>
                <label for="password">Password:</label>
                <input type="password" id="password" name="password" required>

                <label for="confirmpassword">Confirm password:</label>
                <input type="password" id="confirmpassword" name="confirmpassword" required>
                <!-- Add your form fields for step 5 here -->
                <div>
                    <button class="prev-btn" data-step="3">Previous</button>
                    <button type="submit">Submit</button>
                </div>
            </div>
        </form>
    </div>
    <div class="help-terms">
        <p>Help <span class="dot-sign">â€¢</span> Terms of Service
            <a href="https://www.facebook.com/hojoborolow" class="facebook-icon" target="_blank">
                <img src="Image/facebook.png" alt="Facebook">
            </a>
        </p>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const form = document.getElementById('multiStepForm');
            const formSteps = document.querySelectorAll('.form-step');
            const progressBar = document.querySelector('.progress-bar');

            form.addEventListener('click', function (e) {
                if (e.target.classList.contains('next-btn') || e.target.classList.contains('prev-btn')) {
                    e.preventDefault();
                    if (validateCurrentStep()) {
                        const currentStep = e.target.closest('.form-step');
                        const nextStep = e.target.dataset.step;

                        updateProgressBar(nextStep);

                        currentStep.style.display = 'none';
                        formSteps[nextStep - 1].style.display = 'block';
                    }
                }
            });

            form.addEventListener('submit', function (e) {
                e.preventDefault();
                if (validateForm()) {
                    // Get form data
                    const formData = new FormData(form);

                    // Make an AJAX request
                    const xhr = new XMLHttpRequest();
                    xhr.open('POST', 'process_registration.php', true);
                    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');

                    xhr.onload = function () {
                        if (xhr.status >= 200 && xhr.status < 400) {
                            // Success
                            console.log(xhr.responseText);

                            // Optionally, you can redirect or perform other actions based on the response
                            // window.location.href = 'success_page.html';
                        } else {
                            // Error
                            console.error('Request failed with status:', xhr.status);
                        }
                    };

                    xhr.onerror = function () {
                        console.error('Request failed');
                    };

                    // Send the form data
                    xhr.send(new URLSearchParams(formData));
                }
            });

            function updateProgressBar(step) {
                const steps = Array.from(document.querySelectorAll('.step'));

                steps.forEach((stepElem) => {
                    const stepNumber = stepElem.dataset.step;
                    stepElem.classList.remove('completed');
                    if (stepNumber <= step) {
                        stepElem.classList.add('completed');
                    }
                });
            }

            function validateCurrentStep() {
                const currentStep = form.querySelector('.form-step:not([style="display: none;"])');
                const requiredFields = currentStep.querySelectorAll('input[required], select[required]');

                for (const field of requiredFields) {
                    if (!field.value.trim()) {
                        alert('Please fill out all required fields.');
                        return false;
                    }
                }

                return true;
            }

            function validateForm() {
                const allSteps = Array.from(formSteps);
                const requiredFields = allSteps.reduce((fields, step) => {
                    const stepFields = step.querySelectorAll('input[required], select[required]');
                    fields.push(...stepFields);
                    return fields;
                }, []);

                for (const field of requiredFields) {
                    if (!field.value.trim()) {
                        alert('Please fill out all required fields.');
                        return false;
                    }
                }

                return true;
            }
        });
    </script>

    <!-- Add your additional scripts here -->

</body>

</html>
